# CosSky's Field-runners v0.2

## 平台
Windows

## C语言环境 & 编译选项
Mingw64 \
```gcc main.c -o main -lmingw32 -lSDL2main -lSDL2 -lSDL2_image -lSDL2_ttf```

## 第三方库
使用了 SDL2 库绘制图形化界面

## 游戏操作
### 通用
+ `Esc` - 退出程序

### 开始界面
+ 点击任一地图开始游戏

### 游戏时
+ `Space` - 暂停/继续游戏
+ `Enter` - 加速/取消加速游戏
+ `Backspace` - 返回主菜单
+ 拖拽炮塔图标以在地图上放置
+ 点击已放置的炮塔进行查看、升级或售卖
+ 点击地图左上角按钮以暂停、继续、加速或退出游戏

### 结束界面
+ 点击任意位置返回开始界面

## 设计思路
相比较期中项目复杂了很多（确信）
1. 首先是地图中各元素的表示：使用了二维数组表示各方格的状态（空位或者是存在不同类型的炮塔）。
2. 敌人信息独立于该数组外，但会利用其信息进行寻路和移动（这里顺便学了一点简单的 `DFS` / `BFS` 算法）
3. 下一步是炮塔和敌人之间的交互，较为简单，遍历地图中每个炮塔并作出相应行为即可。
4. 最后是设置出怪：为每一波设置了固定出怪模式，并做了大量平衡测试。

## 备注
+ 游戏窗口分辨率为`1440 * 960`
+ 游戏默认 FPS 为`16`，使用加速功能后为`32`
+ 该目录下 `README.txt` 中有关于炮塔的详细信息
+ 为了方便，三张地图中可放置炮塔区域的坐标范围相同，这使得部分地图的画面不可避免地出现了一些不和谐的现象（例如`Drylands`中炮塔可以放置在树上、`Frostbite`中纵路敌人位置偏右等等）
+ 目前可能触发的 bug：
  1. 若放置的炮塔距离敌人过近，敌人可能会寻路失败而走出地图（其他情况也有极小概率触发此bug）；
  2. 当敌人恰好处于地图最左侧时，由于敌人寻路方法的设定，放置炮塔可能失败
+ 第一次用 SDL2 库，对很多库函数不够熟悉，很多代码有更简单的实现方式（）
+ 素材处理有些粗糙，~~不过能玩就行~~